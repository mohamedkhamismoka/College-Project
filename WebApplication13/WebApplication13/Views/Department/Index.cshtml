

@model IEnumerable<DepartmentVM>
@inject IStudent studentRep;
@{
    ViewData["Title"] = "Index";
}





@section css{

<link href="../assets/plugins/datatable/dataTables.bootstrap4.min.css" rel="stylesheet" />


<!-- Slect2 css -->
<link href="../assets/plugins/select2/select2.min.css" rel="stylesheet" />

<!-- Skin css-->
<link id="theme" rel="stylesheet" type="text/css" media="all" href="../assets/skins/hor-skin/leftmenu-icon-default.css" />
<link rel="stylesheet" href="../assets/skins/demo.css" />
<link rel="stylesheet" href="~/assets/css/custom.css" />
}

<div class="card-body" >
    <center>
        <a class="btn btn-danger " asp-controller="Department" asp-action="Create" style="margin-top:-30px"> Create New Department<i class="fas fa-plus" style="margin-left:7px"></i></a>
    </center>
    <div class="table-responsive" style="margin-top:5px">
        <table id="example" class="table table-striped table-bordered w-100 " style="text-align:center;color:white">

            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Number Of Students </th>
                    <th>Details</th>
                         <th>Update</th>
                              <th>Delete</th>
                
                </tr>
            </thead>
            <tbody>
                @foreach (var item in @Model)
                {
                    <tr>
                        <td>@item.DepartmentId</td>
                      <td>@item.Name</td>
                        <td>@studentRep.getCount(@item.DepartmentId)</td>
                     
                        
               
                        <td><a class="btn btn-primary" asp-controller="Department" asp-action="Details" asp-route-id="@item.DepartmentId" style=" padding-top:6px;">Details</a></td>
                        <td><a class="btn btn-warning" asp-controller="Department" asp-action="update" asp-route-id="@item.DepartmentId" style=" padding-top:6px;">update</a></td>
                         <td><a class="btn btn-danger" asp-controller="Department" asp-action="Delete" asp-route-id="@item.DepartmentId" style=" padding-top:6px;">Delete</a></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>






@section js{

<script src="../assets/plugins/datatable/jquery.dataTables.min.js"></script>
<script src="../assets/plugins/datatable/dataTables.bootstrap4.min.js"></script>
<script src="../assets/js/datatables.js"></script>

<!-- Select2 js -->
<script src="../assets/plugins/select2/select2.full.min.js"></script>

<!-- Custom js-->
<script src="../assets/js/custom.js"></script>
<script src="~/assets/js/all.js"></script>




    }







